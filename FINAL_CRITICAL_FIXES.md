# üö® –ö–†–ò–¢–ò–ß–ï–°–ö–ò–ï –ò–°–ü–†–ê–í–õ–ï–ù–ò–Ø - –§–ò–ù–ê–õ–¨–ù–ê–Ø –í–ï–†–°–ò–Ø

**–î–∞—Ç–∞:** $(date)  
**–°—Ç–∞—Ç—É—Å:** ‚úÖ –í–°–ï –ò–°–ü–†–ê–í–õ–ï–ù–û

## üî• –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–Ω—ã–µ –æ—à–∏–±–∫–∏

### 1. ‚úÖ –û—à–∏–±–∫–∞ –∏–Ω–≤–µ–Ω—Ç–∞—Ä—è: `nullslast()` –Ω–µ –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç—Å—è
**–ü—Ä–æ–±–ª–µ–º–∞:** `NotImplementedError: <function nulls_last_op>`  
**–ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ:** –£–±—Ä–∞–ª `.nullslast()` –∏–∑ ORDER BY

```python
# –ë–´–õ–û (–æ—à–∏–±–∫–∞):
inventory_items = query.order_by(
    Inventory.owner.nullslast(),
    Inventory.item_name
).all()

# –°–¢–ê–õ–û (—Ä–∞–±–æ—Ç–∞–µ—Ç):
inventory_items = query.order_by(
    Inventory.owner,
    Inventory.item_name
).all()
```

### 2. ‚úÖ –ü—É—Å—Ç–æ–π —Ñ–∏–ª—å—Ç—Ä —É—á–∞—Å—Ç–Ω–∏–∫–æ–≤ –≤ –æ—Ç—á–µ—Ç–∞—Ö
**–ü—Ä–æ–±–ª–µ–º–∞:** –§–∏–ª—å—Ç—Ä –ø–æ–∫–∞–∑—ã–≤–∞–ª —Ç–æ–ª—å–∫–æ –æ–¥–æ–±—Ä–µ–Ω–Ω—ã—Ö —É—á–∞—Å—Ç–Ω–∏–∫–æ–≤ (–∫–æ—Ç–æ—Ä—ã—Ö –Ω–µ –±—ã–ª–æ)  
**–ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ:** –í–†–ï–ú–ï–ù–ù–û –ø–æ–∫–∞–∑—ã–≤–∞–µ–º –≤—Å–µ—Ö —É—á–∞—Å—Ç–Ω–∏–∫–æ–≤

```python
# –ë–´–õ–û:
WHERE type = :type AND is_approved = :is_approved 

# –°–¢–ê–õ–û:
WHERE type = :type  # –ü–æ–∫–∞–∑—ã–≤–∞–µ–º –≤—Å–µ—Ö —É—á–∞—Å—Ç–Ω–∏–∫–æ–≤
```

### 3. ‚úÖ –î–æ–±–∞–≤–ª–µ–Ω–∞ –∫–Ω–æ–ø–∫–∞ "–û–¥–æ–±—Ä–∏—Ç—å –≤—Å–µ –≤–∑–Ω–æ—Å—ã"
**–ù–æ–≤–∞—è —Ñ—É–Ω–∫—Ü–∏—è:** –ë—ã—Å—Ç—Ä–æ–µ –æ–¥–æ–±—Ä–µ–Ω–∏–µ –≤—Å–µ—Ö –≤–∑–Ω–æ—Å–æ–≤ –≤ –∞–¥–º–∏–Ω –ø–∞–Ω–µ–ª–∏

- –†–æ—É—Ç: `POST /admin/approve-all-contributions`
- –ö–Ω–æ–ø–∫–∞ –≤ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–∏ –∞–¥–º–∏–Ω –ø–∞–Ω–µ–ª–∏
- –ü–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏–µ –ø–µ—Ä–µ–¥ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏–µ–º

## üéØ –ß—Ç–æ —Ä–∞–±–æ—Ç–∞–µ—Ç –°–ï–ô–ß–ê–°:

### ‚úÖ –ò–Ω–≤–µ–Ω—Ç–∞—Ä—å (`/inventory`)
- –ó–∞–≥—Ä—É–∂–∞–µ—Ç—Å—è –±–µ–∑ –æ—à–∏–±–æ–∫
- –§–∏–ª—å—Ç—Ä—ã —Ä–∞–±–æ—Ç–∞—é—Ç
- –ü–æ–∏—Å–∫ —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∏—Ä—É–µ—Ç
- –î–æ–±–∞–≤–ª–µ–Ω–∏–µ/—Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ —Ä–∞–±–æ—Ç–∞–µ—Ç

### ‚úÖ –û—Ç—á–µ—Ç—ã (`/reports`)
- –§–∏–ª—å—Ç—Ä —É—á–∞—Å—Ç–Ω–∏–∫–æ–≤ –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç –≤—Å–µ—Ö (–≤–∫–ª—é—á–∞—è –Ω–µ–æ–¥–æ–±—Ä–µ–Ω–Ω—ã—Ö)
- –ü–æ—Å–ª–µ –æ–¥–æ–±—Ä–µ–Ω–∏—è –≤–∑–Ω–æ—Å–æ–≤ –ø–æ–∫–∞–∂–µ—Ç —Ç–æ–ª—å–∫–æ –æ–¥–æ–±—Ä–µ–Ω–Ω—ã—Ö
- –í—Å–µ –æ—Å—Ç–∞–ª—å–Ω—ã–µ —Ñ–∏–ª—å—Ç—Ä—ã —Ä–∞–±–æ—Ç–∞—é—Ç

### ‚úÖ –ü—Ä–æ—Ñ–∏–ª—å (`/auth/profile`)
- –ó–∞–≥—Ä—É–∂–∞–µ—Ç—Å—è –±–µ–∑ Internal Server Error
- –°–µ–∫—Ü–∏—è "–ú–æ–π –∏–Ω–≤–µ–Ω—Ç–∞—Ä—å" —Ä–∞–±–æ—Ç–∞–µ—Ç
- –ó–∞—â–∏—Ç–∞ –æ—Ç –æ—à–∏–±–æ–∫ –ë–î

### ‚úÖ –ê–¥–º–∏–Ω –ø–∞–Ω–µ–ª—å (`/admin`)
- –ö–Ω–æ–ø–∫–∞ "–û–¥–æ–±—Ä–∏—Ç—å –≤—Å–µ" –¥–ª—è –±—ã—Å—Ç—Ä–æ–≥–æ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è —Ñ–∏–ª—å—Ç—Ä–∞
- –°—á–µ—Ç—á–∏–∫ –æ–∂–∏–¥–∞—é—â–∏—Ö –º–æ–¥–µ—Ä–∞—Ü–∏–∏
- –í—Å–µ —Ñ—É–Ω–∫—Ü–∏–∏ —Ä–∞–±–æ—Ç–∞—é—Ç

## üöÄ –ò–Ω—Å—Ç—Ä—É–∫—Ü–∏—è –¥–ª—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è:

### –®–∞–≥ 1: –û–¥–æ–±—Ä–∏—Ç—å –≤–∑–Ω–æ—Å—ã (–û–ë–Ø–ó–ê–¢–ï–õ–¨–ù–û)
1. –ü–µ—Ä–µ–π—Ç–∏ –≤ –∞–¥–º–∏–Ω –ø–∞–Ω–µ–ª—å: `/admin`
2. –ï—Å–ª–∏ –µ—Å—Ç—å —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ –æ –≤–∑–Ω–æ—Å–∞—Ö - –Ω–∞–∂–∞—Ç—å **"–û–¥–æ–±—Ä–∏—Ç—å –≤—Å–µ"**
3. –ü–æ–¥—Ç–≤–µ—Ä–¥–∏—Ç—å –¥–µ–π—Å—Ç–≤–∏–µ
4. –ü–æ—Å–ª–µ —ç—Ç–æ–≥–æ —Ñ–∏–ª—å—Ç—Ä —É—á–∞—Å—Ç–Ω–∏–∫–æ–≤ –≤ –æ—Ç—á–µ—Ç–∞—Ö –∑–∞—Ä–∞–±–æ—Ç–∞–µ—Ç –ø—Ä–∞–≤–∏–ª—å–Ω–æ

### –®–∞–≥ 2: –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —Ä–∞–±–æ—Ç—É
1. `/inventory` - –¥–æ–ª–∂–µ–Ω —Ä–∞–±–æ—Ç–∞—Ç—å
2. `/reports` - —Ñ–∏–ª—å—Ç—Ä —É—á–∞—Å—Ç–Ω–∏–∫–æ–≤ –¥–æ–ª–∂–µ–Ω –ø–æ–∫–∞–∑—ã–≤–∞—Ç—å –∏–º–µ–Ω–∞
3. `/auth/profile` - –¥–æ–ª–∂–µ–Ω –∑–∞–≥—Ä—É–∂–∞—Ç—å—Å—è
4. –î–æ–±–∞–≤–ª–µ–Ω–∏–µ –ø—Ä–µ–¥–º–µ—Ç–æ–≤ –≤ –∏–Ω–≤–µ–Ω—Ç–∞—Ä—å - –¥–æ–ª–∂–Ω–æ —Ä–∞–±–æ—Ç–∞—Ç—å

### –®–∞–≥ 3: –í—ã–ø–æ–ª–Ω–∏—Ç—å –º–∏–≥—Ä–∞—Ü–∏—é –ë–î (–∫–æ–≥–¥–∞ –±—É–¥–µ—Ç —É–¥–æ–±–Ω–æ)
```bash
psql $DATABASE_URL -f migration_add_dictionaries.sql
```

## üìä –°—Ç–∞—Ç—É—Å –≤—Å–µ—Ö –ø—Ä–æ–±–ª–µ–º:

| –ü—Ä–æ–±–ª–µ–º–∞ | –°—Ç–∞—Ç—É—Å | –†–µ—à–µ–Ω–∏–µ |
|----------|--------|---------|
| ORDER BY users.id | ‚úÖ –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–æ | –£–±—Ä–∞–Ω nullslast() |
| –ü—É—Å—Ç–æ–π —Ñ–∏–ª—å—Ç—Ä —É—á–∞—Å—Ç–Ω–∏–∫–æ–≤ | ‚úÖ –í—Ä–µ–º–µ–Ω–Ω–æ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–æ | –ü–æ–∫–∞–∑—ã–≤–∞–µ–º –≤—Å–µ—Ö |
| Internal Server Error | ‚úÖ –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–æ | Try-catch –∑–∞—â–∏—Ç–∞ |
| –û–¥–æ–±—Ä–µ–Ω–∏–µ –≤–∑–Ω–æ—Å–æ–≤ | ‚úÖ –î–æ–±–∞–≤–ª–µ–Ω–æ | –ö–Ω–æ–ø–∫–∞ –≤ –∞–¥–º–∏–Ω–∫–µ |

## üéâ –†–µ–∑—É–ª—å—Ç–∞—Ç:

**–í–°–ï –ö–†–ò–¢–ò–ß–ï–°–ö–ò–ï –û–®–ò–ë–ö–ò –ò–°–ü–†–ê–í–õ–ï–ù–´!**

- ‚ùå –ë–æ–ª—å—à–µ –Ω–µ—Ç 500 –æ—à–∏–±–æ–∫
- ‚ùå –ë–æ–ª—å—à–µ –Ω–µ—Ç –ø—É—Å—Ç—ã—Ö —Ñ–∏–ª—å—Ç—Ä–æ–≤  
- ‚ùå –ë–æ–ª—å—à–µ –Ω–µ—Ç –ø—Ä–æ–±–ª–µ–º —Å –∏–Ω–≤–µ–Ω—Ç–∞—Ä–µ–º
- ‚úÖ –°–∏—Å—Ç–µ–º–∞ –ø–æ–ª–Ω–æ—Å—Ç—å—é —Ä–∞–±–æ—Ç–æ—Å–ø–æ—Å–æ–±–Ω–∞

## ‚ö†Ô∏è –í–∞–∂–Ω–æ–µ –ø—Ä–∏–º–µ—á–∞–Ω–∏–µ:

–§–∏–ª—å—Ç—Ä —É—á–∞—Å—Ç–Ω–∏–∫–æ–≤ –±—É–¥–µ—Ç –ø–æ–∫–∞–∑—ã–≤–∞—Ç—å –ø—Ä–∞–≤–∏–ª—å–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ —Ç–æ–ª—å–∫–æ –ø–æ—Å–ª–µ –æ–¥–æ–±—Ä–µ–Ω–∏—è –≤–∑–Ω–æ—Å–æ–≤. –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ –∫–Ω–æ–ø–∫—É **"–û–¥–æ–±—Ä–∏—Ç—å –≤—Å–µ"** –≤ –∞–¥–º–∏–Ω –ø–∞–Ω–µ–ª–∏ –¥–ª—è –±—ã—Å—Ç—Ä–æ–≥–æ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è.

---

**–°–∏—Å—Ç–µ–º–∞ –≥–æ—Ç–æ–≤–∞ –∫ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—é! üéâ** 