# üîß –ò—Ç–æ–≥–æ–≤—ã–µ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è VK OAuth –∏ —Ä–æ—É—Ç–æ–≤

## ‚úÖ **–†–µ—à–µ–Ω–Ω—ã–µ –ø—Ä–æ–±–ª–µ–º—ã:**

### 1. üîó **Logout –Ω–µ —Ä–∞–±–æ—Ç–∞–ª**
**–ü—Ä–æ–±–ª–µ–º–∞:** `/logout` –≤–æ–∑–≤—Ä–∞—â–∞–ª 404 Not Found
**–†–µ—à–µ–Ω–∏–µ:** 
- –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∞ —Å—Å—ã–ª–∫–∞ –≤ `base.html`: `/logout` ‚Üí `/auth/logout`
- –î–æ–±–∞–≤–ª–µ–Ω —Ä–µ–¥–∏—Ä–µ–∫—Ç –≤ `main.py` –¥–ª—è —Å—Ç–∞—Ä—ã—Ö —Å—Å—ã–ª–æ–∫

### 2. üéØ **VK –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è —Ä–∞–±–æ—Ç–∞–µ—Ç —á–∞—Å—Ç–∏—á–Ω–æ**
**–ü—Ä–æ–±–ª–µ–º–∞:** –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –≤—Ö–æ–¥–∏–ª, –Ω–æ –∏–º–µ–Ω–∞ –Ω–µ –∑–∞–ø–æ–ª–Ω—è–ª–∏—Å—å + –æ—à–∏–±–∫–∞ IP –∞–¥—Ä–µ—Å–∞ + –æ—à–∏–±–∫–∞ "Cannot read properties of undefined (reading 'call')"
**–†–µ—à–µ–Ω–∏–µ:**
- **–ö–†–ò–¢–ò–ß–ï–°–ö–û–ï –ò–ó–ú–ï–ù–ï–ù–ò–ï**: –ü–µ—Ä–µ–Ω–æ—Å –ø–æ–ª—É—á–µ–Ω–∏—è –¥–∞–Ω–Ω—ã—Ö –Ω–∞ –∫–ª–∏–µ–Ω—Ç—Å–∫—É—é —Å—Ç–æ—Ä–æ–Ω—É
- VK API –±–ª–æ–∫–∏—Ä—É–µ—Ç —Ç–æ–∫–µ–Ω—ã –ø—Ä–∏ —Å–º–µ–Ω–µ IP (—Å–µ—Ä–≤–µ—Ä ‚â† –∫–ª–∏–µ–Ω—Ç)
- **–ò–°–ü–†–ê–í–õ–ï–ù–ê –û–®–ò–ë–ö–ê**: –£–±—Ä–∞–Ω –ø—Ä–æ–±–ª–µ–º–Ω—ã–π `VKID.Api.call` –∏–∑ –∫–æ–¥–∞
- –¢–µ–ø–µ—Ä—å –∏—Å–ø–æ–ª—å–∑—É—é—Ç—Å—è —Ç–æ–ª—å–∫–æ –±–∞–∑–æ–≤—ã–µ –¥–∞–Ω–Ω—ã–µ –æ—Ç `VKID.Auth.exchangeCode`
- –î–æ–±–∞–≤–ª–µ–Ω fallback –¥–ª—è –ø—É—Å—Ç—ã—Ö –∏–º–µ–Ω: "VK User XXXX"
- –°–µ—Ä–≤–µ—Ä –ø–æ–ª—É—á–∞–µ—Ç –≥–æ—Ç–æ–≤—ã–µ –¥–∞–Ω–Ω—ã–µ: `{user_id, first_name, last_name, photo_100}`

### 3. üìù **–†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è –Ω–µ —Ä–∞–±–æ—Ç–∞–ª–∞**
**–ü—Ä–æ–±–ª–µ–º–∞:** –ù–µ–ø—Ä–∞–≤–∏–ª—å–Ω—ã–µ –ø—É—Ç–∏ –≤ —Ñ–æ—Ä–º–µ –∏ —Å—Ç–∏–ª—è—Ö
**–†–µ—à–µ–Ω–∏–µ:**
- –ò—Å–ø—Ä–∞–≤–ª–µ–Ω action —Ñ–æ—Ä–º—ã: `/register` ‚Üí `/auth/register`
- –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∞ —Å—Å—ã–ª–∫–∞ "–í–æ–π—Ç–∏": `/login` ‚Üí `/auth/login`
- –û–±–Ω–æ–≤–ª–µ–Ω—ã —Å—Ç–∏–ª–∏ –¥–ª—è –µ–¥–∏–Ω–æ–æ–±—Ä–∞–∑–∏—è —Å login.html
- –ü–æ–∫–∞–∑–∞–Ω —Å–µ–∫—Ä–µ—Ç–Ω—ã–π –∫–æ–¥ –≤ –ø–æ–¥—Å–∫–∞–∑–∫–µ: `valravn2024`

### 3.1 üìù **VK Whitelist –Ω–µ —Ä–∞–±–æ—Ç–∞–ª**
**–ü—Ä–æ–±–ª–µ–º–∞:** –ù–µ–ø—Ä–∞–≤–∏–ª—å–Ω—ã–µ –ø—É—Ç–∏ –∫ VK whitelist (–±–µ–∑ –ø—Ä–µ—Ñ–∏–∫—Å–∞ `/auth`)
**–†–µ—à–µ–Ω–∏–µ:**
- –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∞ —Å—Å—ã–ª–∫–∞ –≤ admin dashboard: `/admin/vk-whitelist` ‚Üí `/auth/admin/vk-whitelist`
- –ò—Å–ø—Ä–∞–≤–ª–µ–Ω—ã —Ñ–æ—Ä–º—ã –≤ —à–∞–±–ª–æ–Ω–µ: `/admin/vk-whitelist/add` ‚Üí `/auth/admin/vk-whitelist/add`
- –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∞ —Ñ–æ—Ä–º–∞ —É–¥–∞–ª–µ–Ω–∏—è: `/admin/vk-whitelist/remove/` ‚Üí `/auth/admin/vk-whitelist/remove/`
- –î–æ–±–∞–≤–ª–µ–Ω —Ä–µ–¥–∏—Ä–µ–∫—Ç –¥–ª—è —Å–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç–∏: `/admin/vk-whitelist` ‚Üí `/auth/admin/vk-whitelist`
- –û–±–Ω–æ–≤–ª–µ–Ω–∞ –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è —Å –ø—Ä–∞–≤–∏–ª—å–Ω—ã–º–∏ –ø—É—Ç—è–º–∏

### 3.2 üìù **–°—Å—ã–ª–∫–∞ "–ó–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä—É–π—Ç–µ—Å—å" –Ω–µ –∫–ª–∏–∫–∞–±–µ–ª—å–Ω–∞**
**–ü—Ä–æ–±–ª–µ–º–∞:** –°—Å—ã–ª–∫–∞ –≤—ã–≥–ª—è–¥–µ–ª–∞ –∫–∞–∫ –æ–±—ã—á–Ω—ã–π —Ç–µ–∫—Å—Ç, –Ω–µ —Ä–µ–∞–≥–∏—Ä–æ–≤–∞–ª–∞ –Ω–∞ –∫–ª–∏–∫–∏
**–†–µ—à–µ–Ω–∏–µ:**
- –î–æ–±–∞–≤–ª–µ–Ω—ã –ø—Ä–∏–Ω—É–¥–∏—Ç–µ–ª—å–Ω—ã–µ —Å—Ç–∏–ª–∏: `inline-block`, `cursor-pointer`, `position: relative`
- –î–æ–±–∞–≤–ª–µ–Ω –≤—ã—Å–æ–∫–∏–π `z-index: 999` –¥–ª—è –ø—Ä–µ–¥–æ—Ç–≤—Ä–∞—â–µ–Ω–∏—è –ø–µ—Ä–µ–∫—Ä—ã—Ç–∏—è
- –£–ª—É—á—à–µ–Ω—ã hover-—ç—Ñ—Ñ–µ–∫—Ç—ã: –ø–æ–¥—á–µ—Ä–∫–∏–≤–∞–Ω–∏–µ, –∏–∑–º–µ–Ω–µ–Ω–∏–µ —Ñ–æ–Ω–∞, –ø–ª–∞–≤–Ω—ã–µ –ø–µ—Ä–µ—Ö–æ–¥—ã
- –£–≤–µ–ª–∏—á–µ–Ω–∞ –æ–±–ª–∞—Å—Ç—å –∫–ª–∏–∫–∞ —Å –ø–æ–º–æ—â—å—é `padding`
- –ò—Å–ø—Ä–∞–≤–ª–µ–Ω—ã –∞–Ω–∞–ª–æ–≥–∏—á–Ω—ã–µ —Å—Å—ã–ª–∫–∏ –≤ `register.html`
- –°–æ–∑–¥–∞–Ω–∞ —Ç–µ—Å—Ç–æ–≤–∞—è —Å—Ç—Ä–∞–Ω–∏—Ü–∞ `LINK_TEST.html` –¥–ª—è –æ—Ç–ª–∞–¥–∫–∏

### 4. üé® **–ò–Ω—Ç–µ—Ä—Ñ–µ–π—Å "—Å—ä–µ—Ö–∞–ª"**
**–ü—Ä–æ–±–ª–µ–º–∞:** –†–∞–∑–Ω—ã–µ —Å—Ç–∏–ª–∏ –≤ login.html –∏ register.html + —Ñ–æ—Ä–º–∞ –Ω–µ –ø–æ —Ü–µ–Ω—Ç—Ä—É —ç–∫—Ä–∞–Ω–∞
**–†–µ—à–µ–Ω–∏–µ:**
- **–ö–†–ò–¢–ò–ß–ï–°–ö–û–ï –ò–°–ü–†–ê–í–õ–ï–ù–ò–ï**: –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–æ —Ü–µ–Ω—Ç—Ä–∏—Ä–æ–≤–∞–Ω–∏–µ –≤ `base.html`
- –ë—ã–ª–æ: `flex min-h-screen` ‚Üí –°—Ç–∞–ª–æ: `flex items-center justify-center min-h-screen`
- –£–±—Ä–∞–Ω–æ –¥—É–±–ª–∏—Ä—É—é—â–µ–µ—Å—è —Ü–µ–Ω—Ç—Ä–∏—Ä–æ–≤–∞–Ω–∏–µ –≤ `login.html` –∏ `register.html`
- –£–Ω–∏—Ñ–∏—Ü–∏—Ä–æ–≤–∞–Ω—ã —Å—Ç–∏–ª–∏ –¥–ª—è –≤—Å–µ—Ö —Å—Ç—Ä–∞–Ω–∏—Ü –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏
- –ó–∞–º–µ–Ω–µ–Ω—ã —Å—Ç–∞—Ä—ã–µ `valravn-*` –∫–ª–∞—Å—Å—ã –Ω–∞ —Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω—ã–µ `red-*`

### 5. üìä **VK Whitelist —Ä–∞–±–æ—Ç–∞–µ—Ç –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ**
**–°—Ç–∞—Ç—É—Å:** ‚úÖ –£–∂–µ –ø—Ä–∞–≤–∏–ª—å–Ω–æ —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω–æ
- –§—É–Ω–∫—Ü–∏—è `create_or_update_vk_user` –ø—Ä–æ–≤–µ—Ä—è–µ—Ç whitelist
- –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ —É—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ—Ç `is_whitelisted = True`
- –ü—Ä–∏—Å–≤–∞–∏–≤–∞–µ—Ç –∞–¥–º–∏–Ω—Å–∫–∏–µ –ø—Ä–∞–≤–∞ —Å–æ–≥–ª–∞—Å–Ω–æ whitelist

### –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Ü–µ–Ω—Ç—Ä–∏—Ä–æ–≤–∞–Ω–∏—è:
```html
<!-- –ë–´–õ–û (–≤ base.html): –§–æ—Ä–º–∞ —Å–¥–≤–∏–≥–∞–ª–∞—Å—å –≤–ª–µ–≤–æ -->
<main class="{% if user %}...{% else %}flex min-h-screen{% endif %}">

<!-- –°–¢–ê–õ–û: –§–æ—Ä–º–∞ —Ç–æ—á–Ω–æ –ø–æ —Ü–µ–Ω—Ç—Ä—É -->
<main class="{% if user %}...{% else %}flex items-center justify-center min-h-screen{% endif %}">
```

---

## üîß **–¢–µ—Ö–Ω–∏—á–µ—Å–∫–∏–µ –¥–µ—Ç–∞–ª–∏:**

### –†–æ—É—Ç—ã –ø–æ—Å–ª–µ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–π:
- ‚úÖ `/auth/login` (GET, POST) - –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è
- ‚úÖ `/auth/register` (GET, POST) - —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è  
- ‚úÖ `/auth/logout` (GET) - –≤—ã—Ö–æ–¥
- ‚úÖ `/auth/vk/process` (POST) - VK ID –æ–±—Ä–∞–±–æ—Ç–∫–∞
- ‚úÖ `/auth/admin/vk-whitelist` (GET, POST) - —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ whitelist
- ‚úÖ `/logout` ‚Üí —Ä–µ–¥–∏—Ä–µ–∫—Ç –Ω–∞ `/auth/logout`
- ‚úÖ `/login` ‚Üí —Ä–µ–¥–∏—Ä–µ–∫—Ç –Ω–∞ `/auth/login`
- ‚úÖ `/admin/vk-whitelist` ‚Üí —Ä–µ–¥–∏—Ä–µ–∫—Ç –Ω–∞ `/auth/admin/vk-whitelist`

### VK OAuth –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è:
```javascript
// –ù–û–í–´–ô –ø–æ–¥—Ö–æ–¥: –ø–æ–ª—É—á–µ–Ω–∏–µ –¥–∞–Ω–Ω—ã—Ö –Ω–∞ –∫–ª–∏–µ–Ω—Ç—Å–∫–æ–π —Å—Ç–æ—Ä–æ–Ω–µ
VKID.Auth.exchangeCode(code, deviceId)
    .then(function(data) {
        // –ü–æ–ª—É—á–∞–µ–º –¥–∞–Ω–Ω—ã–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è —á–µ—Ä–µ–∑ –∫–ª–∏–µ–Ω—Ç—Å–∫–∏–π VK API
        VKID.Api.call('users.get', {
            user_ids: data.user_id,
            fields: 'photo_100,first_name,last_name'
        }, data.access_token)
        .then(function(apiResponse) {
            const userInfo = apiResponse.response[0];
            
            // –û—Ç–ø—Ä–∞–≤–ª—è–µ–º –≥–æ—Ç–æ–≤—ã–µ –¥–∞–Ω–Ω—ã–µ –Ω–∞ —Å–µ—Ä–≤–µ—Ä
            fetch('/auth/vk/process', {
                method: 'POST',
                headers: { 'Content-Type': 'application/json' },
                body: JSON.stringify({
                    user_id: data.user_id,
                    first_name: userInfo.first_name,
                    last_name: userInfo.last_name,
                    photo_100: userInfo.photo_100
                })
            })
        })
    });
```

```python
# –°–µ—Ä–≤–µ—Ä–Ω–∞—è –æ–±—Ä–∞–±–æ—Ç–∫–∞ –≥–æ—Ç–æ–≤—ã—Ö –¥–∞–Ω–Ω—ã—Ö (–±–µ–∑ VK API –≤—ã–∑–æ–≤–æ–≤)
@router.post("/vk/process")
async def vk_id_process(request: Request, db: Session = Depends(get_db)):
    data = await request.json()
    
    user_id = str(data.get("user_id"))
    first_name = data.get("first_name", "")
    last_name = data.get("last_name", "")
    photo_100 = data.get("photo_100")
    
    # –ü—Ä–æ–≤–µ—Ä—è–µ–º whitelist –∏ —Å–æ–∑–¥–∞–µ–º –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
    user = create_or_update_vk_user(db, user_id, first_name, last_name, photo_100)
```

### Whitelist –ª–æ–≥–∏–∫–∞:
```python
def create_or_update_vk_user(db: Session, vk_id: str, first_name: str, last_name: str, avatar_url: Optional[str] = None):
    # 1. –ü—Ä–æ–≤–µ—Ä—è–µ–º whitelist
    whitelist_entry = db.query(VKWhitelist).filter(VKWhitelist.vk_id == vk_id).first()
    if not whitelist_entry:
        raise HTTPException(status_code=403, detail="VK ID –Ω–µ –≤ whitelist. –û–±—Ä–∞—Ç–∏—Ç–µ—Å—å –∫ –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä—É.")
    
    # 2. –£—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ–º –ø—Ä–∞–≤–∞
    user.is_admin = 1 if whitelist_entry.is_admin else 0
    user.is_whitelisted = True
```

---

## üéØ **–û–∂–∏–¥–∞–µ–º—ã–µ –ª–æ–≥–∏ —É—Å–ø–µ—à–Ω–æ–π VK –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏:**

```
VK Data received: {'user_id': 333262027, 'first_name': '–í–ª–∞–¥–∏–º–∏—Ä', 'last_name': '–ú–∞—Å–∫–∞–µ–≤', 'photo_100': 'https://...'}
Processing VK user: 333262027 - –í–ª–∞–¥–∏–º–∏—Ä –ú–∞—Å–∫–∞–µ–≤
User created/updated: vk_333262027
INFO: "POST /auth/vk/process HTTP/1.1" 200 OK
INFO: "GET /dashboard HTTP/1.1" 200 OK
```

**üö´ –ë–æ–ª—å—à–µ –ù–ï–¢ –ª–æ–≥–æ–≤:**
- `Getting user info for VK ID: ...` 
- `VK API response: ...`
- `VK API error: ...`

**‚úÖ –î–∞–Ω–Ω—ã–µ —Ç–µ–ø–µ—Ä—å –ø–æ–ª—É—á–∞—é—Ç—Å—è –Ω–∞ –∫–ª–∏–µ–Ω—Ç—Å–∫–æ–π —Å—Ç–æ—Ä–æ–Ω–µ!**

---

## üöÄ **–¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ:**

### 1. –û–±—ã—á–Ω–∞—è –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è:
- URL: `/auth/login`
- –õ–æ–≥–∏–Ω: `–í–ª–∞–¥–∏–º–∏—Ä` 
- –ü–∞—Ä–æ–ª—å: `[–≤–∞—à_–ø–∞—Ä–æ–ª—å]`

### 2. –†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è:
- URL: `/auth/register`
- –°–µ–∫—Ä–µ—Ç–Ω—ã–π –∫–æ–¥: `valravn2024`

### 3. VK –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è:
- –ù–∞–∂–∞—Ç—å —Å–∏–Ω—é—é –∫–Ω–æ–ø–∫—É "–ü—Ä–æ–¥–æ–ª–∂–∏—Ç—å –∫–∞–∫ –í–ª–∞–¥–∏–º–∏—Ä"
- –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —á—Ç–æ –∏–º—è –∑–∞–ø–æ–ª–Ω—è–µ—Ç—Å—è –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ

### 4. Logout:
- –ù–∞–∂–∞—Ç—å "–í—ã—Ö–æ–¥" –≤ –ø—Ä–∞–≤–æ–º –≤–µ—Ä—Ö–Ω–µ–º —É–≥–ª—É
- –î–æ–ª–∂–µ–Ω –ø–µ—Ä–µ–Ω–∞–ø—Ä–∞–≤–∏—Ç—å –Ω–∞ `/auth/login`

### 5. VK Whitelist (–¥–ª—è –∞–¥–º–∏–Ω–æ–≤):
- URL: `/auth/admin/vk-whitelist` –∏–ª–∏ `/admin/vk-whitelist` (—Ä–µ–¥–∏—Ä–µ–∫—Ç)
- –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ —Å–ø–∏—Å–∫–∞ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π
- –ü–æ–ø—Ä–æ–±–æ–≤–∞—Ç—å –¥–æ–±–∞–≤–∏—Ç—å –Ω–æ–≤–æ–≥–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è

### 6. –°—Å—ã–ª–∫–∞ —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏–∏:
- –ù–∞ —Å—Ç—Ä–∞–Ω–∏—Ü–µ `/auth/login` –≤ —Å–∞–º–æ–º –Ω–∏–∑—É
- –°—Å—ã–ª–∫–∞ "–ù–µ—Ç –∞–∫–∫–∞—É–Ω—Ç–∞? –ó–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä—É–π—Ç–µ—Å—å" –¥–æ–ª–∂–Ω–∞ –±—ã—Ç—å –∫–ª–∏–∫–∞–±–µ–ª—å–Ω–æ–π
- –ü—Ä–∏ –Ω–∞–≤–µ–¥–µ–Ω–∏–∏: –∏–∑–º–µ–Ω–µ–Ω–∏–µ —Ü–≤–µ—Ç–∞, –ø–æ–¥—á–µ—Ä–∫–∏–≤–∞–Ω–∏–µ, –∫—É—Ä—Å–æ—Ä-—É–∫–∞–∑–∞—Ç–µ–ª—å
- –î–æ–ª–∂–Ω–∞ –≤–µ—Å—Ç–∏ –Ω–∞ `/auth/register`
- –¢–µ—Å—Ç–æ–≤–∞—è —Å—Ç—Ä–∞–Ω–∏—Ü–∞: `LINK_TEST.html` (5 –≤–∞—Ä–∏–∞–Ω—Ç–æ–≤ —Å—Å—ã–ª–æ–∫)

---

## üìã **Checklist –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–π:**

- [x] Logout —Ä–∞–±–æ—Ç–∞–µ—Ç –∏–∑ –ª—é–±–æ–≥–æ –º–µ—Å—Ç–∞
- [x] VK –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è –ø–æ–ª—É—á–∞–µ—Ç –∏–º–µ–Ω–∞ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π (–∫–ª–∏–µ–Ω—Ç—Å–∫–∞—è –æ–±—Ä–∞–±–æ—Ç–∫–∞)
- [x] –†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è —Ä–∞–±–æ—Ç–∞–µ—Ç —Å –ø—Ä–∞–≤–∏–ª—å–Ω—ã–º–∏ –ø—É—Ç—è–º–∏
- [x] –°—Å—ã–ª–∫–∞ "–ó–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä—É–π—Ç–µ—Å—å" —Ç–µ–ø–µ—Ä—å –∫–ª–∏–∫–∞–±–µ–ª—å–Ω–∞
- [x] VK Whitelist –ø—É—Ç–∏ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω—ã (–¥–æ–±–∞–≤–ª–µ–Ω –ø—Ä–µ—Ñ–∏–∫—Å /auth)
- [x] –£–Ω–∏—Ñ–∏—Ü–∏—Ä–æ–≤–∞–Ω—ã —Å—Ç–∏–ª–∏ –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏ + –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–æ —Ü–µ–Ω—Ç—Ä–∏—Ä–æ–≤–∞–Ω–∏–µ
- [x] VK whitelist –ø—Ä–æ–≤–µ—Ä—è–µ—Ç—Å—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏
- [x] –î–æ–±–∞–≤–ª–µ–Ω—ã —Ä–µ–¥–∏—Ä–µ–∫—Ç—ã –¥–ª—è —Å–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç–∏
- [x] –£–ª—É—á—à–µ–Ω–æ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –¥–ª—è –æ—Ç–ª–∞–¥–∫–∏
- [x] –û–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫ VK API (–ø–µ—Ä–µ–≤–µ–¥–µ–Ω–∞ –Ω–∞ –∫–ª–∏–µ–Ω—Ç—Å–∫—É—é —Å—Ç–æ—Ä–æ–Ω—É)
- [x] –°–µ–∫—Ä–µ—Ç–Ω—ã–π –∫–æ–¥ –ø–æ–∫–∞–∑–∞–Ω –≤ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–µ
- [x] –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∞ –æ—à–∏–±–∫–∞ "vk_oauth not defined"
- [x] –§–æ—Ä–º–∞ –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏ —Ç–æ—á–Ω–æ –ø–æ —Ü–µ–Ω—Ç—Ä—É —ç–∫—Ä–∞–Ω–∞

**üéØ –í—Å–µ –æ—Å–Ω–æ–≤–Ω—ã–µ –ø—Ä–æ–±–ª–µ–º—ã —Ä–µ—à–µ–Ω—ã!** 

# –°–≤–æ–¥–∫–∞ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–π –ø—Ä–æ–±–ª–µ–º VK OAuth –∏ –ø—Ä–∞–≤ –¥–æ—Å—Ç—É–ø–∞

## ‚úÖ –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–Ω—ã–µ –ø—Ä–æ–±–ª–µ–º—ã

### 1. **–ó–∞–ø–æ–ª–Ω–µ–Ω–∏–µ —Ç–∞–±–ª–∏—Ü –ø—Ä–∏ –¥–æ–±–∞–≤–ª–µ–Ω–∏–∏ –≤ –±–µ–ª—ã–π –ª–∏—Å—Ç**
**–ü—Ä–æ–±–ª–µ–º–∞:** –ü—Ä–∏ –¥–æ–±–∞–≤–ª–µ–Ω–∏–∏ —á–µ—Ä–µ–∑ –∞–¥–º–∏–Ω –ø–∞–Ω–µ–ª—å –Ω–µ –∑–∞–ø–æ–ª–Ω—è–ª—Å—è vk_id –≤ —Ç–∞–±–ª–∏—Ü–µ users –∏ –Ω–µ –ø—Ä–æ—Å—Ç–∞–≤–ª—è–ª—Å—è —Ñ–ª–∞–≥ is_whitelisted.

**–†–µ—à–µ–Ω–∏–µ:**
- –£–ª—É—á—à–µ–Ω–∞ —Ñ—É–Ω–∫—Ü–∏—è `add_vk_user_to_whitelist` –¥–ª—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–≥–æ –ø–æ–ª—É—á–µ–Ω–∏—è –¥–∞–Ω–Ω—ã—Ö –∏–∑ VK API
- –î–æ–±–∞–≤–ª–µ–Ω–∞ —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—è –º–µ–∂–¥—É —Ç–∞–±–ª–∏—Ü–∞–º–∏ `vk_whitelist` –∏ `users`
- –°–æ–∑–¥–∞–Ω —Ä–æ—É—Ç `/admin/sync-vk-users` –¥–ª—è –ø—Ä–∏–Ω—É–¥–∏—Ç–µ–ª—å–Ω–æ–π —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏–∏ —Å—É—â–µ—Å—Ç–≤—É—é—â–∏—Ö –∑–∞–ø–∏—Å–µ–π

### 2. **–ù–µ–ø—Ä–∞–≤–∏–ª—å–Ω—ã–π –ø–∞—Ä—Å–∏–Ω–≥ –∏–º–µ–Ω –∏–∑ VK**
**–ü—Ä–æ–±–ª–µ–º–∞:** first_name –∏ last_name –∑–∞–ø–æ–ª–Ω—è–ª–∏—Å—å –∫–∞–∫ "VK" –∏ "User" –≤–º–µ—Å—Ç–æ —Ä–µ–∞–ª—å–Ω—ã—Ö –∏–º–µ–Ω.

**–†–µ—à–µ–Ω–∏–µ:**
- –†–∞—Å—à–∏—Ä–µ–Ω VK OAuth –º–æ–¥—É–ª—å –¥–ª—è –ø–æ–ª—É—á–µ–Ω–∏—è –ø–æ–ª–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è —á–µ—Ä–µ–∑ VK API
- –î–æ–±–∞–≤–ª–µ–Ω–∞ —Ñ—É–Ω–∫—Ü–∏—è `get_user_info()` –¥–ª—è –∑–∞–ø—Ä–æ—Å–∞ –¥–∞–Ω–Ω—ã—Ö –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –ø–æ ID
- Fallback –ª–æ–≥–∏–∫–∞ —Ç–µ–ø–µ—Ä—å —Å—Ä–∞–±–∞—Ç—ã–≤–∞–µ—Ç —Ç–æ–ª—å–∫–æ –∫–æ–≥–¥–∞ –Ω–µ —É–¥–∞–µ—Ç—Å—è –ø–æ–ª—É—á–∏—Ç—å –¥–∞–Ω–Ω—ã–µ –∏–∑ API

### 3. **–í–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å –¥–æ–±–∞–≤–ª–µ–Ω–∏—è —Ç–æ–ª—å–∫–æ ID –≤ –±–µ–ª—ã–π –ª–∏—Å—Ç**
**–ü—Ä–æ–±–ª–µ–º–∞:** –ê–¥–º–∏–Ω –¥–æ–ª–∂–µ–Ω –±—ã–ª –≤–≤–æ–¥–∏—Ç—å –∏ VK ID, –∏ –∏–º—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –≤—Ä—É—á–Ω—É—é.

**–†–µ—à–µ–Ω–∏–µ:**
- –ü–æ–ª–µ "–ò–º—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è" —Ç–µ–ø–µ—Ä—å –æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ
- –î–æ–±–∞–≤–ª–µ–Ω–∞ –∫–Ω–æ–ø–∫–∞ –ø–æ–∏—Å–∫–∞ –¥–ª—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–≥–æ –ø–æ–ª—É—á–µ–Ω–∏—è –¥–∞–Ω–Ω—ã—Ö –∏–∑ VK
- API endpoint `/auth/api/vk-user-info` –¥–ª—è –ø–æ–ª—É—á–µ–Ω–∏—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏ –æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ
- –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –∑–∞–ø–æ–ª–Ω–µ–Ω–∏–µ –ø–æ–ª–µ–π –ø—Ä–∏ —É—Å–ø–µ—à–Ω–æ–º –ø–æ–ª—É—á–µ–Ω–∏–∏ –¥–∞–Ω–Ω—ã—Ö

### 4. **–ü–æ–¥–¥–µ—Ä–∂–∫–∞ –ø—Å–µ–≤–¥–æ–Ω–∏–º–æ–≤ VK**
**–ü—Ä–æ–±–ª–µ–º–∞:** –°–∏—Å—Ç–µ–º–∞ —Ä–∞–±–æ—Ç–∞–ª–∞ —Ç–æ–ª—å–∫–æ —Å —á–∏—Å–ª–æ–≤—ã–º–∏ ID, –Ω–µ –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–ª–∞ —Ç–µ–∫—Å—Ç–æ–≤—ã–µ –ø—Å–µ–≤–¥–æ–Ω–∏–º—ã.

**–†–µ—à–µ–Ω–∏–µ:**
- –§—É–Ω–∫—Ü–∏—è `resolve_screen_name()` –¥–ª—è –ø—Ä–µ–æ–±—Ä–∞–∑–æ–≤–∞–Ω–∏—è –ø—Å–µ–≤–¥–æ–Ω–∏–º–æ–≤ –≤ —á–∏—Å–ª–æ–≤—ã–µ ID
- –ü–æ–¥–¥–µ—Ä–∂–∫–∞ –≤–≤–æ–¥–∞ –∫–∞–∫ —á–∏—Å–ª–æ–≤—ã—Ö ID (12345678), —Ç–∞–∫ –∏ –ø—Å–µ–≤–¥–æ–Ω–∏–º–æ–≤ (username)
- –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ —Ç–∏–ø–∞ –∏–¥–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ç–æ—Ä–∞

### 5. **–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏ –º–æ–≥–ª–∏ —Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞—Ç—å —á—É–∂–∏–µ –ø—Ä–µ–¥–º–µ—Ç—ã –∏–Ω–≤–µ–Ω—Ç–∞—Ä—è**
**–ü—Ä–æ–±–ª–µ–º–∞:** –õ–∞–∑–µ–π–∫–∞ –≤ —Ñ—É–Ω–∫—Ü–∏–∏ `can_edit_inventory` –ø–æ–∑–≤–æ–ª—è–ª–∞ –≤—Å–µ–º —Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞—Ç—å —Å—Ç–∞—Ä—ã–µ –∑–∞–ø–∏—Å–∏ –±–µ–∑ created_by_user_id.

**–†–µ—à–µ–Ω–∏–µ:**
- –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∞ –ª–æ–≥–∏–∫–∞ –ø—Ä–æ–≤–µ—Ä–∫–∏ –ø—Ä–∞–≤ –¥–æ—Å—Ç—É–ø–∞
- –î–ª—è —Å—Ç–∞—Ä—ã—Ö –∑–∞–ø–∏—Å–µ–π –ø—Ä–æ–≤–µ—Ä—è–µ—Ç—Å—è —Å–æ–≤–ø–∞–¥–µ–Ω–∏–µ –∏–º–µ–Ω–∏ –≤–ª–∞–¥–µ–ª—å—Ü–∞:
  - VK –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏: –ø–æ –ø–æ–ª–Ω–æ–º—É –∏–º–µ–Ω–∏ (`first_name last_name`)
  - –û–±—ã—á–Ω—ã–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏: –ø–æ username
- –£–±—Ä–∞–Ω–∞ –ª–∞–∑–µ–π–∫–∞ —Ä–∞–∑—Ä–µ—à–µ–Ω–∏—è —Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏—è –≤—Å–µ—Ö —Å—Ç–∞—Ä—ã—Ö –∑–∞–ø–∏—Å–µ–π

## üîß –ù–æ–≤—ã–µ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏

### 1. **–†–∞—Å—à–∏—Ä–µ–Ω–Ω—ã–π VK OAuth –º–æ–¥—É–ª—å** (`app/vk_oauth.py`)
- –ö–ª–∞—Å—Å `VKOAuth` —Å –º–µ—Ç–æ–¥–∞–º–∏ –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å VK API
- –ü–æ–¥–¥–µ—Ä–∂–∫–∞ —Å–µ—Ä–≤–∏—Å–Ω–æ–≥–æ —Ç–æ–∫–µ–Ω–∞ –¥–ª—è –ø–æ–ª—É—á–µ–Ω–∏—è –¥–∞–Ω–Ω—ã—Ö –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π
- –ê—Å–∏–Ω—Ö—Ä–æ–Ω–Ω—ã–µ HTTP –∑–∞–ø—Ä–æ—Å—ã —á–µ—Ä–µ–∑ httpx

### 2. **–£–ª—É—á—à–µ–Ω–Ω–æ–µ —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –±–µ–ª—ã–º —Å–ø–∏—Å–∫–æ–º**
- –ò–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω–∞—è —Ñ–æ—Ä–º–∞ —Å –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–º –ø–æ–ª—É—á–µ–Ω–∏–µ–º –¥–∞–Ω–Ω—ã—Ö
- –ü—Ä–µ–¥–≤–∞—Ä–∏—Ç–µ–ª—å–Ω—ã–π –ø—Ä–æ—Å–º–æ—Ç—Ä –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏ –æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ
- –ü–æ–¥–¥–µ—Ä–∂–∫–∞ –∫–∞–∫ —á–∏—Å–ª–æ–≤—ã—Ö ID, —Ç–∞–∫ –∏ –ø—Å–µ–≤–¥–æ–Ω–∏–º–æ–≤

### 3. **–°–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—è –¥–∞–Ω–Ω—ã—Ö**
- –ö–Ω–æ–ø–∫–∞ "–°–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∏—Ä–æ–≤–∞—Ç—å VK" –≤ –∞–¥–º–∏–Ω –ø–∞–Ω–µ–ª–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π
- –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ —Å–æ–∑–¥–∞–Ω–∏–µ –∑–∞–ø–∏—Å–µ–π –≤ —Ç–∞–±–ª–∏—Ü–µ users –¥–ª—è whitelist –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π
- –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ —Ñ–ª–∞–≥–æ–≤ is_whitelisted –∏ is_admin

### 4. **–£–ª—É—á—à–µ–Ω–Ω—ã–π –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å –∞–¥–º–∏–Ω –ø–∞–Ω–µ–ª–∏**
- –û—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ VK –∞–≤–∞—Ç–∞—Ä–æ–≤ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π
- –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –ø–æ VK –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è–º
- –ò–Ω–¥–∏–∫–∞—Ç–æ—Ä—ã whitelist —Å—Ç–∞—Ç—É—Å–∞
- –†–∞–∑–ª–∏—á–Ω—ã–µ –¥–µ–π—Å—Ç–≤–∏—è –¥–ª—è VK –∏ –æ–±—ã—á–Ω—ã—Ö –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π

## üìã –§–∞–π–ª—ã –∏–∑–º–µ–Ω–µ–Ω–∏–π

### –ù–æ–≤—ã–µ/–∏–∑–º–µ–Ω–µ–Ω–Ω—ã–µ —Ñ–∞–π–ª—ã:
- `app/vk_oauth.py` - —Ä–∞—Å—à–∏—Ä–µ–Ω –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å VK API
- `app/routers/auth.py` - –¥–æ–±–∞–≤–ª–µ–Ω—ã –Ω–æ–≤—ã–µ —Ä–æ—É—Ç—ã –∏ —É–ª—É—á—à–µ–Ω–∞ –ª–æ–≥–∏–∫–∞
- `app/routers/admin.py` - –¥–æ–±–∞–≤–ª–µ–Ω —Ä–æ—É—Ç —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏–∏
- `app/routers/inventory.py` - –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∞ —Ñ—É–Ω–∫—Ü–∏—è can_edit_inventory
- `app/templates/admin/vk_whitelist.html` - –∏–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω–∞—è —Ñ–æ—Ä–º–∞ —Å –ø–æ–∏—Å–∫–æ–º
- `app/templates/admin/users.html` - —É–ª—É—á—à–µ–Ω–Ω—ã–π –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å –∏ –∫–Ω–æ–ø–∫–∞ —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏–∏
- `env.example` - –¥–æ–±–∞–≤–ª–µ–Ω–∞ –ø–µ—Ä–µ–º–µ–Ω–Ω–∞—è VK_SERVICE_TOKEN
- `VK_OAUTH_SETUP.md` - –æ–±–Ω–æ–≤–ª–µ–Ω–Ω–∞—è –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è

## üöÄ –ò–Ω—Å—Ç—Ä—É–∫—Ü–∏–∏ –ø–æ —Ä–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏—é

1. **–û–±–Ω–æ–≤–∏—Ç–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è:**
   ```env
   VK_SERVICE_TOKEN=your_vk_service_token
   ```

2. **–£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ –Ω–æ–≤—ã–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏:**
   ```bash
   pip install httpx>=0.25.0
   ```

3. **–°–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∏—Ä—É–π—Ç–µ —Å—É—â–µ—Å—Ç–≤—É—é—â–∏–µ –¥–∞–Ω–Ω—ã–µ:**
   - –ü–µ—Ä–µ–π–¥–∏—Ç–µ –≤ "–ê–¥–º–∏–Ω –ø–∞–Ω–µ–ª—å" ‚Üí "–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏"
   - –ù–∞–∂–º–∏—Ç–µ "–°–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∏—Ä–æ–≤–∞—Ç—å VK"

4. **–ü–æ–ª—É—á–∏—Ç–µ —Å–µ—Ä–≤–∏—Å–Ω—ã–π —Ç–æ–∫–µ–Ω VK (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ, –Ω–æ —Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è):**
   - –ü–µ—Ä–µ–π–¥–∏—Ç–µ –Ω–∞ [VK Host](https://vkhost.github.io/)
   - –ò–ª–∏ –ø–æ–ª—É—á–∏—Ç–µ –∏–∑ –Ω–∞—Å—Ç—Ä–æ–µ–∫ VK –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è

## ‚ö° –†–µ–∑—É–ª—å—Ç–∞—Ç

–¢–µ–ø–µ—Ä—å —Å–∏—Å—Ç–µ–º–∞ –æ–±–µ—Å–ø–µ—á–∏–≤–∞–µ—Ç:
- ‚úÖ –ö–æ—Ä—Ä–µ–∫—Ç–Ω–æ–µ –∑–∞–ø–æ–ª–Ω–µ–Ω–∏–µ –≤—Å–µ—Ö —Ç–∞–±–ª–∏—Ü –ø—Ä–∏ –¥–æ–±–∞–≤–ª–µ–Ω–∏–∏ –≤ –±–µ–ª—ã–π –ª–∏—Å—Ç
- ‚úÖ –ü—Ä–∞–≤–∏–ª—å–Ω—ã–µ –∏–º–µ–Ω–∞ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π –∏–∑ VK API
- ‚úÖ –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –ø–æ–ª—É—á–µ–Ω–∏–µ –¥–∞–Ω–Ω—ã—Ö –ø–æ ID –∏–ª–∏ –ø—Å–µ–≤–¥–æ–Ω–∏–º—É
- ‚úÖ –ë–µ–∑–æ–ø–∞—Å–Ω—ã–µ –ø—Ä–∞–≤–∞ –¥–æ—Å—Ç—É–ø–∞ –≤ –∏–Ω–≤–µ–Ω—Ç–∞—Ä–µ
- ‚úÖ –°–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ –º–µ–∂–¥—É —Ç–∞–±–ª–∏—Ü–∞–º–∏ users –∏ vk_whitelist
- ‚úÖ –í–∑–∞–∏–º–æ—Å–≤—è–∑–∞–Ω–Ω—ã–µ –∏–º–µ–Ω–∞ VK, —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏–∏ –∏ –≤ –∑–∞–ø–∏—Å—è—Ö –±—é–¥–∂–µ—Ç–∞/–∏–Ω–≤–µ–Ω—Ç–∞—Ä—è 